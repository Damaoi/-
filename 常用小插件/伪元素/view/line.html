<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>line</title>
    <style>
        @keyframes lineA{
            0%,100%{clip:rect(0,340px,2px,0)}
            25%{clip:rect(0,2px,340px,0)}
            50%{clip:rect(338px,340px,340px,0)}
            75%{clip:rect(0,340px,340px,338px)}
        }
        /*@keyframes lineB{*/
            /*0%,100%{clip:rect(0,340px,2px,0)}*/
            /*25%{clip:rect(0,2px,340px,0)}*/
            /*50%{clip:rect(338px,340px,340px,0)}*/
            /*75%{clip:rect(0,340px,340px,338px)}*/
        /*}*/
        .box{
            background-color: #f1f1f1;
            width: 300px;
            height: 300px;
            margin: 100px auto;
            position: relative;
            z-index: 3;
        }
        .box::before{
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            right: 0;
            border: 2px solid red;
            margin: -20px;
            z-index: -1;
            clip:rect(0px,340px,2px,0px);
            animation: lineA 8s linear infinite;
        }
        /*.box::after{*/
            /*content: '';*/
            /*position: absolute;*/
            /*left: 0;*/
            /*top: 0;*/
            /*bottom: 0;*/
            /*right: 0;*/
            /*border: 2px solid red;*/
            /*margin: -20px;*/
            /*z-index: -1;*/
            /*clip:rect(338px,340px,340px,0);*/
            /*animation: lineB 8s linear infinite;*/
        /*}*/
        @keyframes line {
            0%{
                border: 5px solid green;
            }
            25%{
                border: 5px solid red;
            }
            50%{
                border: 5px solid #eee;
            }
            75%{
                border: 5px solid #0081d5;
            }
            100%{
                border: 5px solid #27b680;
            }
        }
        .bb{
            width: 200px;
            height: 200px;
            background-color: pink;
        }
        .bb:hover{
            border: 2px solid green;
            animation: line linear 8s infinite;
        }
    </style>
</head>
<body>
<div class="box">

</div>
<div class="bb">

</div>
</body>
</html>